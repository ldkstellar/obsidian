### 가상 상속

base 클래스 밑에 
중간 클래스가 2개 갖고
마지막 클래스가 중간클래스 2개를 가지면
클래스에 base클래스가 2번 호출된다. 이를 방지하기 위해서는 무엇을 하면 될까?
중간 클래스에서 base 클래스를 가상 상속을 하면 된다.

**2. 가상 테이블(vtable)과 가상 포인터(vptr)의 역할**

C++의 **가상 상속**은 vtable과 vptr을 이용하여 가상 기본 클래스의 단일 인스턴스를 참조하는 방식으로 동작합니다.

**(1) vtable (Virtual Table, 가상 함수 테이블)**

• 클래스 내의 **가상 함수 정보 및 가상 기본 클래스 정보를 저장하는 테이블**입니다.
• 런타임에 동적으로 가상 함수 호출을 관리합니다.

**(2) vptr (Virtual Table Pointer, 가상 테이블 포인터)**

• 각 객체는 vtable을 가리키는 **vptr(가상 테이블 포인터)**을 가집니다.
• 가상 상속을 사용하면, 가상 기본 클래스는 **실제 데이터를 저장하지 않고** vptr을 통해 하나의 A 인스턴스를 참조합니다.


2. **런타임 오버헤드**:
	• 가상 상속을 통해 멤버 변수에 접근할 때, vptr을 따라가야 하므로 약간의 성능 저하가 발생할 수 있음.
	• 하지만 일반적인 경우에는 최적화되어 영향이 크지는 않음.